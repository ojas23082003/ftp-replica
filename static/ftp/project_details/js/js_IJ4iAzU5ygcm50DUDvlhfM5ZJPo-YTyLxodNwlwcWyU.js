(function($,Drupal){Drupal.behaviors.qsGlobalSiteSearchHeader={attach(){const SearchToggle=$("a.top_search_toggle:visible")[0];SearchToggle.addEventListener("click",()=>{const currentSearchQuery=window.location.search.substring(1).split("=")[1]?window.location.search.substring(1).split("=")[1]:"";const config=drupalSettings.qs_global_site_search;const noResultsDisplay=document.querySelector(".no_results");const resultsDisplay=document.querySelector(".results");const suggestionsDisplay=document.querySelector(".suggestions");const searchClient=algoliasearch(config.app_id,config.api_key);const masterIndex=config.algolia_university_index;let uniOrCollegePath;let uniOrCollegeTitle;if(config.site_arg==="TopMBA.com"){uniOrCollegePath="colleges";uniOrCollegeTitle="Colleges";}else{uniOrCollegePath="universities";uniOrCollegeTitle="Universities";}
const search=instantsearch({indexName:masterIndex,searchClient,routing:{router:instantsearch.routers.history({createURL({location,routeState}){const{origin,pathname}=location;const queryParameters={};if(routeState[masterIndex].query){queryParameters.query=encodeURIComponent(routeState[masterIndex].query);}
if(!queryParameters.query){return `${origin}${pathname}`;}
return `${origin}${pathname}?q=${queryParameters.query}`;},parseURL({qsModule}){const query=`${masterIndex}%5Bquery%5D=`;if(currentSearchQuery){const hash=currentSearchQuery;return qsModule.parse(query+hash);}
return qsModule.parse(query);}})}});search.addWidgets([instantsearch.widgets.searchBox({cssClasses:{input:"form-control ds-input"},showReset:true,showSubmit:false,container:".SearchBox",placeholder:"Search..."})]);function buildLink(item){if(item.parent_node){return `<a class="search_link" href="${
item.parent_node[2]
}">${instantsearch.highlight({attribute:"parent_node.0",hit:item})}</a>`;}
if(item.small_profile_logo){return `<a class="search_link" href="${
item.content_path
}"><img src="${item.small_profile_logo}" alt="${
item.title
} image"> ${instantsearch.highlight({attribute:"title",hit:item})}</a>`;}
return `<a class="search_link" href="${
item.content_path
}">${instantsearch.highlight({attribute:"title",hit:item})}</a>`;}
function createCustomWidget(displayName,ccsSelector,icon,landingPage,noResults){const widget=instantsearch.connectors.connectHits((renderOptions,isFirstRender)=>{if(!isFirstRender){const{hits,results}=renderOptions;const searchQuery=results.query?`?q=${results.query}`:"";const list=document.querySelector(ccsSelector);document.querySelector(".ais-SearchBox-input").addEventListener("keypress",e=>{if(e.key==="Enter"){window.location=`/search/all${searchQuery}`;}});if(hits&&hits.length){document.querySelector(ccsSelector).innerHTML=`<a onClick="window.location.reload();" href="/search/${landingPage}${searchQuery}"><i class="fal ${icon}"></i> ${displayName} <span>${String(results.nbHits).padStart(2,"0")}</span></a>${hits.map(item=>buildLink(item)).join("")} ${
results.nbHits>2?`<a onClick="window.location.reload();" href="/search/${landingPage}${searchQuery}" class="more"> View More <i class="far fa-chevron-right"></i></a>`:""
}`;}else{list.innerHTML=`<div class="lab_for_no"><i class="fal ${icon}"></i> ${displayName} <span>0</span></div><p>No matching results</p><div class="sug_for_no">Didn't find what you were looking for? <br>Go to our <a href="/${noResults}">${displayName} listing</a> to further refine your journey.</div>`;}}});return widget;}
const universityHits=createCustomWidget(uniOrCollegeTitle,"li.universities_search_res","fa-university",uniOrCollegePath,uniOrCollegePath);const articleHits=createCustomWidget("Articles","li.articles_search_res","fa-pencil","articles","student-info");const rankingsHits=createCustomWidget("Rankings","li.rankings_search_res","fa-stars","rankings","university-rankings");const programsHits=createCustomWidget("Programs","li.programs_search_res","fa-graduation-cap","programs","programs");const eventsHits=createCustomWidget("Events","li.events_search_res","fa-users-class","events","events");const videosHits=createCustomWidget("Videos","li.videos_search_res","fa-video","videos","student-info/videos");function implementCustomWidget(customIndexName,hitsName,ccsSelector){return instantsearch.widgets.index({indexName:customIndexName}).addWidgets([hitsName({container:document.querySelector(ccsSelector)}),instantsearch.widgets.configure({hitsPerPage:2})]);}
search.addWidgets([instantsearch.widgets.configure({hitsPerPage:2}),universityHits({container:document.querySelector("li.universities_search_res")}),implementCustomWidget(config.algolia_article_index,articleHits,"li.articles_search_res"),implementCustomWidget(config.algolia_ranking_index,rankingsHits,"li.rankings_search_res"),implementCustomWidget(config.algolia_program_index,programsHits,"li.programs_search_res"),implementCustomWidget(config.algolia_event_index,eventsHits,"li.events_search_res"),implementCustomWidget(config.algolia_video_index,videosHits,"li.videos_search_res")]);search.start();search.on("render",()=>{let resultsFound=false;const list=$("ul.search_region li a.search_link");let countResults=0;list.each((id,elem)=>{if(elem.innerHTML){resultsFound=true;countResults+=1;}});if(search.helper.state.query===""){let newlink='';if(config.site_arg!=="TopMBA.com"){newlink='<li><a href="/events?utm_source=gss&utm_campaign=events_banner" target="_blank"><i class="fal fa-calendar-alt"></i> Events</a></li><li><a href="/apply-for-best-universities?utm_campaign=admission_support&utm_source=gss" target="_blank"><i class="fal fa-user-graduate"></i> Admission Support</a></li>';}
suggestionsDisplay.innerHTML=`<ul class="search_region"><li><a href="/search/programs"><i class="fal fa-graduation-cap"></i> Programs</a></li><li><a href="/search/${uniOrCollegePath}"><i class="fal fa-university"></i> ${uniOrCollegeTitle}</a></li><li><a href="/search/events"><i class="fal fa-users-class"></i> Events</a></li><li><a href="/search/rankings"><i class="fal fa-trophy"></i> Rankings</a></li><li><a href="/search/articles"><i class="fal fa-pencil"></i> Articles</a></li>`+newlink+`<li><a href="/search/videos"><i class="fal fa-video"></i> Videos</a></li></ul><h3>Popular Searches</h3><ul class="popular_searches">${config.popular_searches}</ul>`;resultsDisplay.style.display="none";noResultsDisplay.innerHTML="";}else if(resultsFound===false){noResultsDisplay.innerHTML=`<img alt="no results img" class="uni_image" src="/themes/custom/tu_d8/images/no_result_university.jpg"><p class="sry">Sorry, we couldn't find any results for <b>'${search.helper.state.query}'</b>.</p><div class="suggest_for_no"><h3><i class="fad fa-lightbulb-on"></i> Suggestions</h3><ul><li><i class="far fa-scrubber"></i>Try different keywords</li><li><i class="far fa-scrubber"></i>Try more general keywords</li><li><i class="far fa-scrubber"></i>Try popular searches below</li>  </ul></div><div class="popular_for_no"><h3>Popular Searches</h3><ul class="popular_searches">${config.popular_searches}</ul></div>`;resultsDisplay.style.display="none";suggestionsDisplay.innerHTML="";}else{suggestionsDisplay.innerHTML="";noResultsDisplay.innerHTML="";resultsDisplay.style.display="";if(countResults===1){$("ul.search_region").addClass("single_record");}else{$("ul.search_region").removeClass("single_record");}}});});$(".open-search-overlay").on("click keydown",()=>{setTimeout(()=>{const v=$("input:text").val();setTimeout(()=>{$(".ais-SearchBox-form input").val(v);},800);$("a.top_search_toggle:visible")[0].click();},100);setTimeout(()=>{$(".ais-SearchBox-input").focus();},800);});}};})(jQuery,Drupal);;(function($,Drupal){Drupal.behaviors.qs_user_dashboard={attach:function(context,settings){$("._remove-uploads_js").on("click",function(){$("#edit-cv-path").val("");$("input[name='is_cv_deleted']").val("true");$(".cv-file-link").find(".upload-icon-list-first").find("img").addClass("d-none");$(".cv-file-link").find(".upload-icon-list").find("a").text("");$(this).addClass("d-none");});$("._countrycodepadding").on("click",function(){var codeinputw=$("._countrycodepadding").outerWidth();var mobileinputw=$("#edit-telephone").outerWidth();var finalwidth=codeinputw+mobileinputw;$(this).find(".jcf-select-drop").css("width",finalwidth+"px");$(this).find(".jcf-list-content").css("width",finalwidth+"px");$(this).find(".jcf-scrollable-wrapper").css("width",finalwidth+"px");});if(window.location.pathname=="/user/account-details"&&$("#change-pwd-form").length>0){setTimeout(function(){$("._activeInactivestate").find("a").removeClass("active");$("._qs_accountsetting").addClass("active");$(".account-password-list").find("a").removeClass("active");$(".account-password-list").find("a").attr("href","javascript:void(0);");$(".account-password-list").find("a").removeAttr("data-hash");$(".account-password-list").find("a").removeAttr("data-toggle");$("._gotourlscroll_opt_js").removeClass("active");if(Drupal.behaviors.qs_sso.readCookie("STYXKEY-gotourl")=="optins"){$("._gotourlscroll_pass_js").removeClass("active");$("._gotourlscroll_opt_js").addClass("active");}
$("._gotourlscroll_pass_js").addClass("_gotourlscroll_pass");$("._gotourlscroll_opt_js").addClass("_gotourlscroll_opt");$("._gotourlscroll_pass").on("click",function(){Drupal.behaviors.tu_d8.gotourldivunivQS("accountSettings");$(".account-password-list").find("a").removeClass("active");$(this).addClass("active");return false;});$("._gotourlscroll_opt").on("click",function(){Drupal.behaviors.tu_d8.gotourldivunivQS("optins-form");$(".account-password-list").find("a").removeClass("active");$(this).addClass("active");return false;});if(Drupal.behaviors.qs_sso.readCookie("STYXKEY-gotourl")!==null&&Drupal.behaviors.qs_sso.readCookie("STYXKEY-gotourl")=="password"){$("html, body").animate({scrollTop:$(`body`).offset().top},1000);}else{Drupal.behaviors.tu_d8.gotourldivunivQS("optins-form");}},1000);}else{if(Drupal.behaviors.qs_sso!=undefined){Drupal.behaviors.qs_sso.eraseCookie("STYXKEY-gotourl");}}
$("._gotourlscroll_opt_js").on("click",function(){Drupal.behaviors.qs_sso.createCookie("STYXKEY-gotourl","optins");});$("._gotourlscroll_pass_js").on("click",function(){Drupal.behaviors.qs_sso.createCookie("STYXKEY-gotourl","password");});$("#edit-cv-path").on("change",function(){var filename=$(this).val();var fileExtension=$(this).val().split('.').pop().toLowerCase();if(fileExtension===undefined||fileExtension==null||fileExtension===""){return false;}
let fi=document.getElementById('edit-cv-path');if(fi.files.length>0){for(let i=0;i<=fi.files.length-1;i++){let fsize=fi.files.item(i).size;let file=Math.round((fsize/1024));if(file>5120){$(".doc_error").remove();$(".cv-path-section.error_after").after(`<small class="text-danger doc_error"><i class="fa fa-exclamation-triangle"></i> Max. File Size allowed is 5MB.</small>`);$("#edit-cv-path").val("");return false;}}}
$(".cv-file-link").find(".upload-icon-list-first").find("img").removeClass("d-none");if(fileExtension=="doc"||fileExtension=="docx"){$('.cv-file-link').html(`<li>
            <a href="#" class="upload-icon-list-first">
              <img src="/themes/custom/tu_d8/images/filetypes/doc.png" class="upload-icon">
            </a>
           </li>
           <li class="upload-icon-list">
              <a href="#" class="cv-profile-url">${filename}</a>
           </li>`);}else if(fileExtension=="pdf"){$('.cv-file-link').html(`<li>
            <a href="#" class="upload-icon-list-first">
              <img src="/themes/custom/tu_d8/images/filetypes/pdf.png" class="upload-icon">
            </a>
           </li>
           <li class="upload-icon-list">
              <a href="#" class="cv-profile-url">${filename}</a>
           </li>`);}else{$("#edit-cv-path").val("");$(".doc_error").remove();$(".cv-path-section.error_after").after(`<small class="text-danger doc_error"><i class="fa fa-exclamation-triangle"></i> Allowed file format:"pdf, doc, docx'</small>`);}
$(".cv-profile-url").addClass("pointer-events-none");});$.each($("#quicktabs-aricle_tab").find("li"),(i,dis)=>{$(dis).on("click",(e)=>{const targethrefLI=$(dis).find("a").attr("href");let tabidvalue="";$(".list-group.ui-tabs-nav.ui-widget-header").find("li").removeClass("active");window.location.hash=targethrefLI;$(dis).addClass("active");$(dis).removeClass("disabled-li");$('html, body').scrollTop(0);return false;});});$.each($("#block-menulinktabs").find("li"),(i,dis)=>{$(dis).on("click",()=>{if($(dis).hasClass("disabled-li")){return false;}
const targethrefLI=$(dis).find("a").attr("href");let tabidvalue="";$("#block-menulinktabs").find("li").removeClass("active");$("#block-menulinktabs").find("li").addClass("disabled-li");if(targethrefLI=="#Shortlisted"){tabidvalue="profile=[true]&myshortlist=[true]";window.location.hash="Shortlisted";}else if(targethrefLI=="#Recommended"){tabidvalue="profile=[true]&recommended=[true]";window.location.hash="Recommended";}else if(targethrefLI=="#Contacted"){tabidvalue="profile=[true]&contacted=[true]";window.location.hash="Contacted";}
$(dis).addClass("active");Drupal.behaviors.univ_prog_filters._getAllUniversityCards("",tabidvalue);$(dis).removeClass("disabled-li");});});$.each($("#block-menulinktabs-2").find("li"),(i,dis)=>{$(dis).on("click",()=>{if($(dis).hasClass("disabled-li")){return false;}
const targethrefLI=$(dis).find("a").attr("href");let tabidvalue="";$("#block-menulinktabs-2").find("li").removeClass("active");$("#block-menulinktabs-2").find("li").addClass("disabled-li");if(targethrefLI=="#Shortlisted"){tabidvalue="profile=[true]&myshortlist=[true]&pagerlimit=[1]";$("._update_js_prog_HASH").attr("href","/user/dashboard/programs#Shortlisted");window.location.hash="Shortlisted";}else if(targethrefLI=="#Recommended"){tabidvalue="profile=[true]&recommended=[true]&pagerlimit=[1]";$("._update_js_prog_HASH").attr("href","/user/dashboard/programs#Recommended");window.location.hash="Recommended";}else if(targethrefLI=="#Contacted"){tabidvalue="profile=[true]&contacted=[true]&pagerlimit=[1]";$("._update_js_prog_HASH").attr("href","/user/dashboard/programs#Contacted");window.location.hash="Contacted";}
$(dis).addClass("active");Drupal.behaviors.univ_prog_filters._getAllUniversityCards("",tabidvalue,"onlyprogams");$(dis).removeClass("disabled-li");return false;});});$.each($("#block-menulinktabs-3").find("li"),(i,dis)=>{$(dis).on("click",()=>{if($(dis).hasClass("disabled-li")){return false;}
const targethrefLI=$(dis).find("a").attr("href");let tabidvalue="";$("#block-menulinktabs-3").find("li").removeClass("active");$("#block-menulinktabs-3").find("li").addClass("disabled-li");if(targethrefLI=="#Shortlisted"){tabidvalue="profile=[true]&myshortlist=[true]&pagerlimit=[1]";$("._update_js_univ_HASH").attr("href","/user/dashboard/universities#Shortlisted");window.location.hash="Shortlisted";}else if(targethrefLI=="#Recommended"){tabidvalue="profile=[true]&recommended=[true]&pagerlimit=[1]";$("._update_js_univ_HASH").attr("href","/user/dashboard/universities#Recommended");window.location.hash="Recommended";}else if(targethrefLI=="#Contacted"){tabidvalue="profile=[true]&contacted=[true]&pagerlimit=[1]";$("._update_js_univ_HASH").attr("href","/user/dashboard/universities#Contacted");window.location.hash="Contacted";}
$(dis).addClass("active");Drupal.behaviors.univ_prog_filters._getAllUniversityCards("",tabidvalue,"onlyuniv");$(dis).removeClass("disabled-li");return false;});});$.each($("#block-menulinktabs-4").find("li"),(i,dis)=>{$('#block-views-block-applied-program-block-4').addClass('d-none');$('#progListingCards').removeClass('d-none');$('.no_resultss_js').removeClass('d-none');$(dis).on("click",()=>{if($(dis).hasClass("disabled-li")){return false;}
const targethrefLI=$(dis).find("a").attr("href");let tabidvalue="";$("#resultstextpage").addClass("d-none");$("#block-menulinktabs-4").find("li").removeClass("active");if($(dis).find("a").attr("id")!=="Readytoapply-tab"){$("#block-menulinktabs-4").find("li").addClass("disabled-li");}
if(targethrefLI=="#Recommended"||targethrefLI=="#RECOMMENDED"){tabidvalue="application=[recommended]";window.location.hash="Recommended";Drupal.behaviors.univ_prog_filters._getAllUniversityCards("",tabidvalue);}else if(targethrefLI=="#Applied"||targethrefLI=="#APPLIED"){tabidvalue="application=[applied]";window.location.hash="Applied";Drupal.behaviors.univ_prog_filters._getAllUniversityCards("",tabidvalue);$('#block-views-block-applied-program-block-4').addClass('d-none');}else if(targethrefLI=="#Readytoapply"||targethrefLI=="#Readytoapply"){window.location.hash="Readytoapply";$('#block-views-block-applied-program-block-4').removeClass('d-none');$('#progListingCards').addClass('d-none');$('.no_resultss_js').addClass('d-none');}
$(dis).addClass("active");$(dis).removeClass("disabled-li");return false;});});$(document).ready(function(){$(".no-result-link, .view-saved-article p a").on("click",function(){var reCommendLink=$(this).attr("href");var reCommendLink=reCommendLink.substring(reCommendLink.indexOf("#"));if(window.location.pathname=="/user/dashboard/programs"||window.location.pathname=="/user/dashboard/programs/"||window.location.pathname=="/user/dashboard/universities"||window.location.pathname=="/user/dashboard/universities/"||window.location.pathname=="/user/dashboard/articles/"||window.location.pathname=="/user/dashboard/articles/"){$.each($("#block-quicktabsaricletab, #block-quicktabsuserdashboard, #quicktabs-aricle_tab, .UserDataForms, #block-menulinktabs").find("li").find("a"),(index,value)=>{if(reCommendLink==$(value).attr("href")){$(value).trigger("click",event=>{event.preventDefault();});}});}});var reCommendLink=window.location.href;var reCommendLink=reCommendLink.substring(reCommendLink.indexOf("#"));let tempindex_linkingactive=0;$.each($("#quicktabs-aricle_tab, .UserDataForms, #block-menulinktabs, #quicktabs-applications").find("li").find("a"),(index,value)=>{if(window.location.pathname=="/user/dashboard/programs"||window.location.pathname=="/user/dashboard/programs/"||window.location.pathname=="/user/dashboard/universities"||window.location.pathname=="/user/dashboard/universities/"||window.location.pathname=="/user/dashboard/applicaions/"){if(reCommendLink==$(value).attr("href")){tempindex_linkingactive++;$("#block-menulinktabs").find("li").removeClass("active");$(value).parent().addClass("active");}else{$(value).parent().removeClass("active");if(tempindex_linkingactive===0){$("#block-menulinktabs").find("li").removeClass("active");$("#block-menulinktabs").find("li:first-child").addClass("active");}}}else if(reCommendLink==$(value).attr("href")){$(value).trigger("click",event=>{event.preventDefault();});$("html, body").animate({scrollTop:$(reCommendLink).offset().top-200},"2500");}});$('input[type="file"]#edit-cv-path').change(e=>{const geekss=e.target.files[0].name;$(".cv-profile-url").text(geekss);});function showProfileImg(input){if(input.files&&input.files[0]){const reader=new FileReader();reader.onload=function(e){$(".userPictureWrapper img").attr("src",e.target.result);};reader.readAsDataURL(input.files[0]);}}
$(".userPictureWrapper .userPicture").change(function(){showProfileImg(this);});if(window.location.pathname.indexOf("/user/account-details")!==-1){const hash=Drupal.behaviors.qs_sso.readCookie("STYXKEY-fragment_hash")==null?window.location.hash:Drupal.behaviors.qs_sso.readCookie("STYXKEY-fragment_hash");window.location.hash=hash;$(".UserDataForms .nav").find("li a").each((key,val)=>{if(hash==$(val).data("hash")){Drupal.behaviors.qs_sso.createCookie("STYXKEY-fragment_hash",hash);if(Drupal.behaviors.qs_sso.readCookie("STYXKEY-gotourl")==null){$(val).click();}
$(".UserDataForms .tab-content .tab-pane").removeClass("active");$(hash).addClass("active");}
$(val).click(function(k,v){const reCommendLink=$(this).data("hash");Drupal.behaviors.qs_sso.createCookie("STYXKEY-fragment_hash",reCommendLink);window.location.hash=reCommendLink;if(!$(this).hasClass("_gotourlscroll_opt")&&!$(this).hasClass("_gotourlscroll_pass")){window.location.reload();}});});if(hash!=null&&$(`${hash}:visible`).length>0&&$(`${hash}:visible`).find("form:visible").length==0){window.location.reload();}}else{Drupal.behaviors.qs_sso.eraseCookie("STYXKEY-fragment_hash");}
$(".myAccount .to-account-details").on("click",function(){const frag_hash=$(this).data("hash");if(frag_hash!=""||frag_hash!=null){Drupal.behaviors.qs_sso.createCookie("STYXKEY-fragment_hash",frag_hash);}});if($("#edit-telephone-country-code").length>0){let countrycodedash=$("#edit-telephone-country-code").parent().find(".text").text();if(countrycodedash.split("(")[1]!==undefined){countrycodedash=countrycodedash.split("(")[1];}
if(countrycodedash.split(")")[0]!==undefined){countrycodedash=countrycodedash.split(")")[0];}
let finaltext=`(${countrycodedash})`;$("#edit-telephone-country-code").parent().find(".text").text(finaltext);}
let zeroarticlesdiv=`<div class="no_resultss  row">
                                  <div class="left_img_search_zero"></div>
                                  <h3 class="noresult_head"> No Saved Articles!</h3>
                                  <div class="noresult_con">
                                    <a class="no-result-link onclickshowrecommended" href="/user/dashboard/articles#qt-aricle_tab-ui-tabs2">
                                      Here's a list of our best articles to get you started.
                                    </a>
                                  </div>
                                </div>`;if(window.location.pathname=="/user/dashboard"&&$.trim($("#qt-user_dashboard-ui-tabs1").find("div[role=tabpanel]").text())==""){$("#qt-user_dashboard-ui-tabs1").find("div[role=tabpanel]").append(zeroarticlesdiv);}
if(window.location.pathname=="/user/dashboard/articles"&&$.trim($("#qt-aricle_tab-ui-tabs1").find("div[role=tabpanel]").text())==""){$("#qt-aricle_tab-ui-tabs1").find("div[role=tabpanel]").append(zeroarticlesdiv);$(".onclickshowrecommended").on("click",function(){$("#ui-id-2").trigger("click");return false;});}
let zeroreaadytoapply=`<div class="no_resultss no_resultss_js_prog row">
                                  <div class="left_img_search "></div>
                                  <h3 class="noresult_head"> No Results Found!</h3>
                                  <div class="noresult_con_prog_dash">You have not applied for any Program. Please view our recommendations <a class="no-result-link" href="/user/dashboard/applications#Recommended">here</a></div>
                                </div>`;if(window.location.pathname=="/user/dashboard"&&$.trim($("#qt-applications-ui-tabs1").find("div[role=tabpanel]").text())==""){$("#qt-applications-ui-tabs1").find("div[role=tabpanel]").append(zeroreaadytoapply);}});$.each($("#quicktabs-applications").find("li"),(i,dis)=>{$(dis).on("click",(e)=>{if($(dis).hasClass("disabled-li")){return false;}
const targethrefLI=$(dis).find("a").attr("href");let tabidvalue="";$("#quicktabs-applications").find("li").removeClass("active");if($(dis).attr("aria-labelledby")!=="ui-id-1"||$(dis).find("a").attr("id")!=="ui-id-1"){$("#quicktabs-applications").find("li").addClass("disabled-li");}
if(targethrefLI=="#qt-applications-ui-tabs2"){tabidvalue="application=[recommended]&pagerlimit=[1]";Drupal.behaviors.univ_prog_filters._getAllUniversityCards("",tabidvalue,"onlyappliedprograms");$('#appliedProgramsDashboardDiv').removeClass('d-none');$('._update_js_prog_HASH_dashboard').attr('href','/user/dashboard/applications#Recommended');}else if(targethrefLI=="#qt-applications-ui-tabs3"){tabidvalue="application=[applied]&pagerlimit=[1]";Drupal.behaviors.univ_prog_filters._getAllUniversityCards("",tabidvalue,"onlyappliedprograms");$('#appliedProgramsDashboardDiv').removeClass('d-none');$('._update_js_prog_HASH_dashboard').attr('href','/user/dashboard/applications#Applied');}else if(targethrefLI=="#qt-applications-ui-tabs1"){$('#appliedProgramsDashboardDiv').addClass('d-none');$('._update_js_prog_HASH_dashboard').attr('href','/user/dashboard/applications#Readytoapply');}
$(dis).addClass("active");$(dis).removeClass("disabled-li");return false;});});$("#Readytoapply-tab").on("click",function(){$("#block-menulinktabs-4").find("li").removeClass("disabled-li");});$("#ui-id-1").on("click",function(){$("#quicktabs-applications").find("li").removeClass("disabled-li");});$("#quicktabs-applications").first("li").on("click",function(){$("#quicktabs-applications").find("li").removeClass("disabled-li");});$.each($("._listof_values"),(i,dis)=>{let reprtutationvalue=$(dis).find("._setvalue").data("value");if(reprtutationvalue!==undefined||reprtutationvalue!==""){reprtutationvalue=parseInt(reprtutationvalue);const percentage=reprtutationvalue;let posleft="0%";let textinfo="";if(percentage>=0&&percentage<12.5){posleft="0%";textinfo="Not important";}else if(percentage>=12.5&&percentage<25){posleft="calc(25% - 2px)";textinfo="Slightly important";}else if(percentage>=25&&percentage<37.5){posleft="calc(25% - 2px)";textinfo="Slightly important";}else if(percentage>=37.5&&percentage<50){posleft="calc(50% - 2px)";textinfo="Important";}else if(percentage>=50&&percentage<62.5){posleft="calc(50% - 2px)";textinfo="Important";}else if(percentage>=62.5&&percentage<75){posleft="calc(75% - 2px)";textinfo="Very Important";}else if(percentage>=75&&percentage<87.5){posleft="calc(75% - 2px)";textinfo="Very Important";}else if(percentage>=87.5){posleft="calc(100% - 10px)";textinfo="Extremely Important";}
if(reprtutationvalue>0){$(dis).find("._travelling_ball").css("left",posleft);$(dis).find("._travelling_ball").append(`<span class="opacity-reverse" style="left:${posleft};display: block;
                                                    font-weight: 400;
                                                    position: absolute;
                                                    margin-left: -25px;
                                                    top: 12px;
                                                    opacity: 1;
                                                    width: 100px;
                                                    color: #1D1D1B;
                                                    font-size: 12px;
                                                    letter-spacing: 0;
                                                    line-height: 16px;
                                                    top: 18px;">${textinfo}</span>`);$(dis).find("._travelling_ball_track").css("width",posleft);$(dis).find("._hovertext_slider").addClass("opacityForced");$(dis).find("._hovertext_slider").css("left",posleft);$(dis).find("._notefor_sliderselct_js").css("opacity",0);$(dis).find("._notefor_sliderselct_js").addClass("d-none");}else{$(dis).find("._notefor_sliderselct_js").removeClass("d-none");$(dis).find("._travelling_ball").removeClass("d-none");}
if(isNaN(reprtutationvalue)){$(dis).find("._travelling_ball").addClass("d-none");}}else{$(dis).find("._travelling_ball").addClass("d-none");}});$("._listof_values").on("click",function(e){$(this).find("._notefor_sliderselct_js").addClass("d-none");$(this).find("._travelling_ball").removeClass("d-none");if($(e.target).hasClass("_travelling_ball")&&$(this).find("._setvalue").attr("data-value")==0){$(this).find("._travelling_ball").addClass("d-none");$(this).find("._setvalue").val("");return false;}
const offset=$(this).offset();const fromleft=e.clientX-offset.left;const widhtoftrack=$(this).width();const percentage=(fromleft/widhtoftrack)*100;let posleft="0%";let percentagevalue=0;if(percentage>=0&&percentage<12.5){posleft="0%";textinfo="Not important";percentagevalue=0;}else if(percentage>=12.5&&percentage<25){posleft="calc(25% - 2px)";textinfo="Slightly important";percentagevalue=25;}else if(percentage>=25&&percentage<37.5){posleft="calc(25% - 2px)";textinfo="Slightly important";percentagevalue=25;}else if(percentage>=37.5&&percentage<50){posleft="calc(50% - 2px)";textinfo="Important";percentagevalue=50;}else if(percentage>=50&&percentage<62.5){posleft="calc(50% - 2px)";textinfo="Important";percentagevalue=50;}else if(percentage>=62.5&&percentage<75){posleft="calc(75% - 2px)";textinfo="Very Important";percentagevalue=75;}else if(percentage>=75&&percentage<87.5){posleft="calc(75% - 2px)";textinfo="Very Important";percentagevalue=75;}else if(percentage>=87.5){posleft="calc(100% - 10px)";textinfo="Extremely Important";percentagevalue=100;}
$(this).find("._travelling_ball").css("left",posleft);$(this).find("._travelling_ball_track").css("width",posleft);$(this).find(".opacity-reverse").css("opacity",0);$(this).find(".opacity-reverse").text(textinfo);$(this).find("._hovertext_slider").addClass("opacityForced");$(this).find("._hovertext_slider").css("left",posleft);$(this).find("._setvalue").attr("data-value",percentagevalue);$(this).find("._setvalue").val(percentagevalue/25+1);});$("._listof_values").mouseout(function(e){$(this).find("._hovertext_slider").css("opacity",0);$(this).find("._notefor_sliderselct_js").css("opacity",1);$(this).find(".opacity-reverse").css("opacity",1);}).mouseover(function(e){$(this).find(".opacity-reverse").css("opacity",0);$(this).find("._notefor_sliderselct_js").css("opacity",0);const offset=$(this).offset();const fromleft=e.clientX-offset.left;const widhtoftrack=$(this).width();const percentage=(fromleft/widhtoftrack)*100;let posleft="0%";let importanttext="Not important";if(percentage>=0&&percentage<12.5){posleft="0%";importanttext="Not important";}else if(percentage>=12.5&&percentage<25){posleft="calc(25% - 2px)";importanttext="Slightly important";}else if(percentage>=25&&percentage<37.5){posleft="calc(25% - 2px)";importanttext="Slightly important";}else if(percentage>=37.5&&percentage<50){posleft="calc(50% - 2px)";importanttext="Important";}else if(percentage>=50&&percentage<62.5){posleft="calc(50% - 2px)";importanttext="Important";}else if(percentage>=62.5&&percentage<75){posleft="calc(75% - 2px)";importanttext="Very important";}else if(percentage>=75&&percentage<87.5){posleft="calc(75% - 2px)";importanttext="Very important";}else if(percentage>=87.5){posleft="calc(100% - 76px)";importanttext="Extremely important";}
$(this).find("._hovertext_slider").css("opacity",1);$(this).find("._hovertext_slider").css("left",posleft);$(this).find("._hovertext_slider").text(importanttext);});}};})(jQuery,Drupal);;(function($,Drupal){Drupal.behaviors.qs_china_redirect={attach(context,settings){if(!Drupal.behaviors.tu_d8.readCookie('STYXKEY_first_visit')){$.getJSON('/api/user/geo-code',function(response){switch(response.code){case 'CN':window.location.replace('https://www.qschina.cn');break;}});}
Drupal.behaviors.tu_d8.createCookie("STYXKEY_first_visit",'yes',365);}};})(jQuery,Drupal);;